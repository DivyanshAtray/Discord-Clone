<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/static/actual_login.css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Display Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class="flash-messages">
        {% for category, message in messages %}
        <div class="flash-message {{ category }}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    <div class="main">
        <div class="box">
            <form id="upload-form" action="/login" method="post" enctype="multipart/form-data">
                <p>Welcome!</p>
                <p class="sec">We are excited to see you!</p>
            
                <label for="username">Username*</label><br>
                <input type="text" id="username" name="username" required><br><br>
            
                <label for="password">Password</label><br>
                <div class="password-container">
                    <input type="password" id="password" name="password" required>
                    <span id="togglePassword" class="material-symbols-outlined">visibility</span>
                </div><br><br>
            
            
                <button type="submit">Login</button>
            </form>
            <div class="left">
                <img src="https://mail-attachment.googleusercontent.com/attachment/u/1/?ui=2&ik=bb9a3c5b0a&attid=0.1&permmsgid=msg-a:r2342668689817390098&th=195945de3cc48835&view=att&disp=inline&realattid=f_m88ctaxs0&zw&saddbat=ANGjdJ89tIa0fk3KW8GRtAd8lDP2SKABE1C83M6Iq-aU-FYa1kw8cVFXRIO3wYrUrBiiramCtZiOkJ4HKsu854Iwxm7gTrJ5-K4D-VL5-JgnoZGpnioc00m649VPPZ4L9d2jcbc6LrwrW0AIPFHogiiwyjU6pycse8xruTGHwmrKFcUv-IFwtnCa3bR70-YC6cvH0PJnG7YVkxvdFl9aWM2Fn1Ay2p6PV0PMbqhsHZ63xxSItwWIu1twbqCJfUC5gnNWRzAMm3csyAyvkJIuZ_3ZUTJs3xsoK59ckvVQmt4GvMV4QNBFoW4Ed385kA9RjYdNUHnFCx-zUkOqkKIhswPgp8ukYRKLjMyYKsrMwLjvxwT4IsG1MbxYM4kt5NOzYw2UOzX8nBsSDj8ojDd19hcPed0p3JSnQ4gd4RA0hP_dZhbOU5_coHCpMGE2svXjp7QY-QQpZwW1RLOGPSdHy3ZTbWDqKtrUHVSKd92mWSCeK4MTXQcdSWeBXElYkXOP7AYeuNx_j85NQSAQ8VdS1AIHSc56JHny96qAM-bY-dDC-TQA1RW5DmUEEu_bzmTrqX3mU2P6SHeqBUANbTKrHoTqWAqiAEig6bEQc_EOsmFUSQj7qQ3Es1aNBYIfy-6czPhTK0KCubv-lmpgmAO0Pod-OTVDrRRV85hnKlb0vms1_ZJTg60Xm4HU58ilyp1TbIYSQjouRq5JP2KUxDsOd0R0dv-p4MX7BRdZMoUWs1omU4VgCW2uS8W0GechmcWrBwIXSYJTN2KW3uPhb6Qo6NUcYEToyTnX2NGfNKyVO1jsqaGMIYed0L-oCOCLNkZPAg1LkZvBRinWXzIhd2opgWpXEEaR2C9dD3KxKrnnqdmT6VgjbcXEtHXaNbAiyglmzzCp9pjPPDbVpX_GWp4i8UqqHMG-YRhtWRmGxNT3ZkhSmrsF3F6y5wr4Gbgglrylsyd8KDjhYtXsr6IcJqkf83fP2BIgAm9Le2nkI2Jh5_Y2XGYgiAD9f-9SONNM3Q7pecdSDl_g1Pd0lo1-6HzOO3ckKOi-QanmuVmz_BOkGQ" alt="qr code">
                <p>Login with QR code</p>
            </div>
        </div>


        <script> const passwordField = document.getElementById("password");
            const togglePassword = document.getElementById("togglePassword");
    
            togglePassword.addEventListener("click", function () {
                if (passwordField.type === "password") {
                    passwordField.type = "text";
                    this.textContent = "visibility_off";
                    this.style.color = "gray";
                } else {
                    passwordField.type = "password";
                    this.textContent = "visibility";
                    this.style.color = "white";
                }
                });
        setTimeout(() => {
            document.getElementsByClassName("error").forEach(msg => {
                msg.remove();
            });
        }, 3000);

        // Reduce opacity when error message appears
        const errorMsg = document.querySelector(".flash-message.error");
        const mainContent = document.querySelector(".main");

        if (errorMsg) {
            mainContent.style.opacity = "0.5";
        }

        // Restore opacity when error message is dismissed
        document.addEventListener("click", function (event) {
            if (errorMsg && !errorMsg.contains(event.target)) {
                errorMsg.remove();
                mainContent.style.opacity = "1";
            }
        });
            </script>


</body>
</html>